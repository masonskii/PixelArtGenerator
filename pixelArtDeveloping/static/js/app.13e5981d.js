(function(){"use strict";var e={6001:function(e,n,r){var o=r(9963),t=r(6252),l=r(3577);const i={class:"block-editor"},s={class:"rgb-picker"},a={class:"controls"},u=(0,t._)("label",{for:"red"},"Red:",-1),c={class:"controls"},d=(0,t._)("label",{for:"green"},"Green:",-1),p={class:"controls"},f=(0,t._)("label",{for:"blue"},"Blue:",-1),g={class:"upload-form"},b={class:"upload-form__label",for:"fileInput"},m=(0,t._)("span",{class:"upload-form__label-text"},"Выберите изображение",-1),h={key:0,class:"upload-form__preview"},v=["src","alt"],_={class:"preview-image"},w=["src"];function y(e,n,r,y,k,U){return(0,t.wg)(),(0,t.iD)("div",i,[(0,t._)("div",s,[(0,t._)("div",{class:"color-preview",style:(0,l.j5)(U.colorPreviewStyle)},null,4),(0,t._)("div",a,[u,(0,t.wy)((0,t._)("input",{id:"red",type:"number",min:"0",max:"255","onUpdate:modelValue":n[0]||(n[0]=e=>k.red=e),onInput:n[1]||(n[1]=(...n)=>e.updateColor&&e.updateColor(...n))},null,544),[[o.nr,k.red]])]),(0,t._)("div",c,[d,(0,t.wy)((0,t._)("input",{id:"green",type:"number",min:"0",max:"255","onUpdate:modelValue":n[2]||(n[2]=e=>k.green=e),onInput:n[3]||(n[3]=(...n)=>e.updateColor&&e.updateColor(...n))},null,544),[[o.nr,k.green]])]),(0,t._)("div",p,[f,(0,t.wy)((0,t._)("input",{id:"blue",type:"number",min:"0",max:"255","onUpdate:modelValue":n[4]||(n[4]=e=>k.blue=e),onInput:n[5]||(n[5]=(...n)=>e.updateColor&&e.updateColor(...n))},null,544),[[o.nr,k.blue]])])]),(0,t._)("div",g,[(0,t._)("label",b,[m,(0,t._)("input",{id:"fileInput",type:"file",ref:"fileInput",onChange:n[6]||(n[6]=(...e)=>U.handleFileUpload&&U.handleFileUpload(...e))},null,544)]),(0,t._)("button",{class:"upload-form__button",onClick:n[7]||(n[7]=(...e)=>U.Submit&&U.Submit(...e)),style:(0,l.j5)(U.colorPreviewStyle)},"Отправить",4),k.file?((0,t.wg)(),(0,t.iD)("div",h,[(0,t._)("img",{src:k.previewUrl,alt:k.file.name,class:"upload-form__preview-image"},null,8,v)])):(0,t.kq)("",!0)]),(0,t._)("div",_,[(0,t._)("img",{src:k.imageUrl,class:"image"},null,8,w)])])}r(6229),r(7330),r(2062);var k=r(6154),U={data(){return{file:null,red:0,green:0,blue:0,previewUrl:null,imageUrl:""}},computed:{colorPreviewStyle(){return console.log(this.red,this.green,this.blue),{backgroundColor:"rgb("+this.red+", "+this.green+", "+this.blue+")"}}},methods:{Submit(){this.submitImage()},handleFileUpload(){this.file=this.$refs.fileInput.files[0],this.previewUrl=URL.createObjectURL(this.file)},submitImage(){if(!this.file)return void console.log("Please select an image first.");const e=new FormData;e.append("image",this.file),e.append("r",this.red),e.append("g",this.green),e.append("b",this.blue),k.Z.post("/upload",e,{headers:{"Content-Type":"multipart/form-data","X-CSRFToken":C("csrftoken")},responseType:"blob"}).then((e=>{console.log(e),this.imageUrl=URL.createObjectURL(e.data)})).catch((e=>{console.error(e),alert("Произошла ошибка при загрузке изображения")}))}}};function C(e){let n=null;if(document.cookie&&""!==document.cookie){const r=document.cookie.split(";");for(let o=0;o<r.length;o++){const t=r[o].trim();if(t.substring(0,e.length+1)===e+"="){n=decodeURIComponent(t.substring(e.length+1));break}}}return n}var O=r(3744);const x=(0,O.Z)(U,[["render",y]]);var j=x;const I={class:"block-text"},F=(0,t._)("h1",null,"Open Pixel",-1),S=(0,t._)("div",{class:"text"},[(0,t._)("h2",null,"Откройте пиксельное искусство для себя"),(0,t._)("p",null,"Создавай. Импровизируй. Наслаждайся.")],-1),P=[F,S];function R(e,n){return(0,t.wg)(),(0,t.iD)("div",I,P)}const T={},D=(0,O.Z)(T,[["render",R]]);var L=D,A=r(5205);(0,A.z)("static/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(e){console.error("Error during service worker registration:",e)}}),(0,o.ri)(j).mount("#app"),(0,o.ri)(L).mount("#txt")}},n={};function r(o){var t=n[o];if(void 0!==t)return t.exports;var l=n[o]={exports:{}};return e[o].call(l.exports,l,l.exports,r),l.exports}r.m=e,function(){var e=[];r.O=function(n,o,t,l){if(!o){var i=1/0;for(c=0;c<e.length;c++){o=e[c][0],t=e[c][1],l=e[c][2];for(var s=!0,a=0;a<o.length;a++)(!1&l||i>=l)&&Object.keys(r.O).every((function(e){return r.O[e](o[a])}))?o.splice(a--,1):(s=!1,l<i&&(i=l));if(s){e.splice(c--,1);var u=t();void 0!==u&&(n=u)}}return n}l=l||0;for(var c=e.length;c>0&&e[c-1][2]>l;c--)e[c]=e[c-1];e[c]=[o,t,l]}}(),function(){r.d=function(e,n){for(var o in n)r.o(n,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:n[o]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){r.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)}}(),function(){var e={143:0};r.O.j=function(n){return 0===e[n]};var n=function(n,o){var t,l,i=o[0],s=o[1],a=o[2],u=0;if(i.some((function(n){return 0!==e[n]}))){for(t in s)r.o(s,t)&&(r.m[t]=s[t]);if(a)var c=a(r)}for(n&&n(o);u<i.length;u++)l=i[u],r.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return r.O(c)},o=self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[];o.forEach(n.bind(null,0)),o.push=n.bind(null,o.push.bind(o))}();var o=r.O(void 0,[998],(function(){return r(6001)}));o=r.O(o)})();
//# sourceMappingURL=app.13e5981d.js.map