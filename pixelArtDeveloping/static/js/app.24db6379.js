(function(){"use strict";var e={9008:function(e,r,n){var t=n(9963),o=n(6252),l=n(3577);const i={class:"block-editor"},s={class:"rgb-picker"},a={class:"controls"},u=(0,o._)("label",{for:"red"},"Red:",-1),c={class:"controls"},d=(0,o._)("label",{for:"green"},"Green:",-1),p={class:"controls"},f=(0,o._)("label",{for:"blue"},"Blue:",-1),g={class:"upload-form"},h={class:"upload-form__label",for:"fileInput"},b=(0,o._)("span",{class:"upload-form__label-text"},"Выберите изображение",-1),v={key:0,class:"upload-form__preview"},m=["src","alt"],w={class:"preview-image"},_=["src"];function k(e,r,n,k,y,x){return(0,o.wg)(),(0,o.iD)("div",i,[(0,o._)("div",s,[(0,o._)("div",{class:"color-preview",style:(0,l.j5)(x.colorPreviewStyle)},null,4),(0,o._)("div",a,[u,(0,o._)("div",null,(0,l.zw)(y.red),1),(0,o.wy)((0,o._)("input",{id:"red",value:"0",type:"range",min:"0",max:"255","onUpdate:modelValue":r[0]||(r[0]=e=>y.red=e),onInput:r[1]||(r[1]=(...r)=>e.updateColor&&e.updateColor(...r))},null,544),[[t.nr,y.red]])]),(0,o._)("div",c,[d,(0,o._)("div",null,(0,l.zw)(y.green),1),(0,o.wy)((0,o._)("input",{id:"green",type:"range",value:"0",min:"0",max:"255","onUpdate:modelValue":r[2]||(r[2]=e=>y.green=e),onInput:r[3]||(r[3]=(...r)=>e.updateColor&&e.updateColor(...r))},null,544),[[t.nr,y.green]])]),(0,o._)("div",p,[f,(0,o._)("div",null,(0,l.zw)(y.blue),1),(0,o.wy)((0,o._)("input",{id:"blue",type:"range",min:"0",value:"0",max:"255","onUpdate:modelValue":r[4]||(r[4]=e=>y.blue=e),onInput:r[5]||(r[5]=(...r)=>e.updateColor&&e.updateColor(...r))},null,544),[[t.nr,y.blue]])]),(0,o._)("div",null,(0,l.zw)(x.rgbStr),1),(0,o._)("div",null,(0,l.zw)(x.hex),1),(0,o._)("div",null,(0,l.zw)(x.hsl),1)]),(0,o._)("div",g,[(0,o._)("label",h,[b,(0,o._)("input",{id:"fileInput",type:"file",ref:"fileInput",onChange:r[6]||(r[6]=(...e)=>x.handleFileUpload&&x.handleFileUpload(...e))},null,544)]),(0,o._)("button",{class:"upload-form__button",onClick:r[7]||(r[7]=(...e)=>x.Submit&&x.Submit(...e)),style:(0,l.j5)(x.colorPreviewStyle)},"Отправить",4),y.file?((0,o.wg)(),(0,o.iD)("div",v,[(0,o._)("img",{src:y.previewUrl,alt:y.file.name,class:"upload-form__preview-image"},null,8,m)])):(0,o.kq)("",!0)]),(0,o._)("div",w,[(0,o._)("img",{src:y.imageUrl,class:"image"},null,8,_)])])}n(6229),n(7330),n(2062);var y=n(6154),x={data(){return{file:null,red:0,green:0,blue:0,previewUrl:null,imageUrl:""}},computed:{colorPreviewStyle(){return console.log(this.red,this.green,this.blue),{backgroundColor:"rgb("+this.red+", "+this.green+", "+this.blue+")"}},rgbStr(){return"rgb("+this.red+", "+this.green+", "+this.blue+")"},hex(){return this.rgbToHex(this.r,this.g,this.b)},hsl(){return this.rgbToHsl(this.r,this.g,this.b)}},methods:{Submit(){this.submitImage()},updateColors(){this.rgbStr},rgbToHex(e,r,n){return"#"+U(e,r,n)},rgbToHsl(e,r,n){let t=C(e,r,n);return"hsl: ("+t[0]+"%, "+t[1]+"%, "+t[2]+"%)"},handleFileUpload(){this.file=this.$refs.fileInput.files[0],this.previewUrl=URL.createObjectURL(this.file)},submitImage(){if(!this.file)return void console.log("Please select an image first.");const e=new FormData;e.append("image",this.file),e.append("r",this.red),e.append("g",this.green),e.append("b",this.blue),y.Z.post("/upload",e,{headers:{"Content-Type":"multipart/form-data","X-CSRFToken":O("csrftoken")},responseType:"blob"}).then((e=>{console.log(e),this.imageUrl=URL.createObjectURL(e.data)})).catch((e=>{console.error(e),alert("Произошла ошибка при загрузке изображения")}))}}};function U(e,r,n){const t=e=>{const r=e.toString(16);return 1===r.length?"0"+r:r};return"#"+t(e)+t(r)+t(n)}function C(e,r,n){e/=255,r/=255,n/=255;const t=Math.max(e,r,n),o=Math.min(e,r,n);let l,i,s=(t+o)/2;if(t===o)l=i=0;else{const a=t-o;switch(i=s>.5?a/(2-t-o):a/(t+o),t){case e:l=(r-n)/a+(r<n?6:0);break;case r:l=(n-e)/a+2;break;case n:l=(e-r)/a+4;break}l/=6}return l=Math.round(360*l),i=Math.round(100*i),s=Math.round(100*s),[l,i,s]}function O(e){let r=null;if(document.cookie&&""!==document.cookie){const n=document.cookie.split(";");for(let t=0;t<n.length;t++){const o=n[t].trim();if(o.substring(0,e.length+1)===e+"="){r=decodeURIComponent(o.substring(e.length+1));break}}}return r}var S=n(3744);const j=(0,S.Z)(x,[["render",k]]);var I=j;const T={class:"block-text"},F=(0,o._)("h1",null,"Open Pixel",-1),z=(0,o._)("div",{class:"text"},[(0,o._)("h2",null,"Откройте пиксельное искусство для себя"),(0,o._)("p",null,"Создавай. Импровизируй. Наслаждайся.")],-1),P=[F,z];function R(e,r){return(0,o.wg)(),(0,o.iD)("div",T,P)}const M={},D=(0,S.Z)(M,[["render",R]]);var H=D,L=n(5205);(0,L.z)("static/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(e){console.error("Error during service worker registration:",e)}}),(0,t.ri)(I).mount("#app"),(0,t.ri)(H).mount("#txt")}},r={};function n(t){var o=r[t];if(void 0!==o)return o.exports;var l=r[t]={exports:{}};return e[t].call(l.exports,l,l.exports,n),l.exports}n.m=e,function(){var e=[];n.O=function(r,t,o,l){if(!t){var i=1/0;for(c=0;c<e.length;c++){t=e[c][0],o=e[c][1],l=e[c][2];for(var s=!0,a=0;a<t.length;a++)(!1&l||i>=l)&&Object.keys(n.O).every((function(e){return n.O[e](t[a])}))?t.splice(a--,1):(s=!1,l<i&&(i=l));if(s){e.splice(c--,1);var u=o();void 0!==u&&(r=u)}}return r}l=l||0;for(var c=e.length;c>0&&e[c-1][2]>l;c--)e[c]=e[c-1];e[c]=[t,o,l]}}(),function(){n.d=function(e,r){for(var t in r)n.o(r,t)&&!n.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:r[t]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)}}(),function(){var e={143:0};n.O.j=function(r){return 0===e[r]};var r=function(r,t){var o,l,i=t[0],s=t[1],a=t[2],u=0;if(i.some((function(r){return 0!==e[r]}))){for(o in s)n.o(s,o)&&(n.m[o]=s[o]);if(a)var c=a(n)}for(r&&r(t);u<i.length;u++)l=i[u],n.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return n.O(c)},t=self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[];t.forEach(r.bind(null,0)),t.push=r.bind(null,t.push.bind(t))}();var t=n.O(void 0,[998],(function(){return n(9008)}));t=n.O(t)})();
//# sourceMappingURL=app.24db6379.js.map